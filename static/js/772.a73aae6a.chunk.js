"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[772],{831:function(e,t,n){n.d(t,{F2:function(){return f},PF:function(){return i},R8:function(){return l},bV:function(){return u},gY:function(){return p},il:function(){return v}});var r=n(165),a=n(861),c=n(243),s="https://api.themoviedb.org/3/",o="a620a6416fb18e40f7d335c64c3f9e0e",u="https://image.tmdb.org/t/p/w500",i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,u,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,n="".concat(s,"trending/movie/day?api_key=").concat(o,"&page=").concat(t),e.prev=2,e.next=5,c.Z.get(n);case 5:return a=e.sent,e.next=8,a.data;case 8:return u=e.sent,e.abrupt("return",u);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u,i,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,a="".concat(s,"search/movie?api_key=").concat(o,"&language=en-US&page=").concat(n,"&query=").concat(t,"&include_adult=false"),e.prev=2,e.next=5,c.Z.get(a);case 5:return u=e.sent,e.next=8,u.data;case 8:return i=e.sent,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t,"?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,c.Z.get(n);case 4:return a=e.sent,e.next=7,a.data;case 7:return u=e.sent,e.abrupt("return",u);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,c.Z.get(n);case 4:return a=e.sent,e.next=7,a.data;case 7:return u=e.sent,e.abrupt("return",u);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,c.Z.get(n);case 4:return a=e.sent,e.next=7,a.data;case 7:return u=e.sent,e.abrupt("return",u);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},842:function(e,t,n){n.d(t,{H:function(){return i}});var r=n(689),a=n(87),c=n(831),s=n(892),o=n(272),u=n(184),i=function(e){var t=e.movie,n="/"===(0,r.TH)().pathname?"movies/":"";return(0,u.jsx)("li",{className:s.Z.item,children:(0,u.jsxs)(a.rU,{to:"".concat(n).concat(t.id),className:s.Z.link,children:[(0,u.jsx)("img",{src:t.poster_path?c.bV+t.poster_path:o,alt:t.title,className:s.Z.img}),(0,u.jsx)("div",{className:s.Z.info,children:(0,u.jsx)("h3",{children:t.title})})]})})}},772:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(165),a=n(861),c=n(439),s=n(791),o=n(87),u=n(831),i="Form_form__psS5c",l="Form_input__EwUhk",p="Form_submit__khcqq",f=n(184),v=function(e){var t=e.submit,n=e.searchMovieValue,r=e.onChang;return(0,f.jsxs)("form",{id:"search-form",autoComplete:"off",onSubmit:t,className:i,children:[(0,f.jsx)("input",{className:l,type:"text",name:"name",autoFocus:!0,placeholder:"Search movies",onChange:function(e){r(e.target.value.toLowerCase())},value:n}),(0,f.jsx)("button",{type:"submit",className:p,children:"Search"})]})},m=n(842),h=n(672),d=n(892),g="MovieSearch_p__MwZHn",_=function(){var e,t=(0,s.useState)(""),n=(0,c.Z)(t,2),i=n[0],l=n[1],p=(0,s.useState)([]),_=(0,c.Z)(p,2),x=_[0],Z=_[1],k=(0,s.useState)(!1),w=(0,c.Z)(k,2),y=w[0],b=w[1],j=(0,o.lr)(),S=(0,c.Z)(j,2),M=S[0],N=S[1],C=(0,s.useState)(!1),L=(0,c.Z)(C,2),U=L[0],F=L[1],H=null!==(e=M.get("name"))&&void 0!==e?e:"",V=window.location.search.split("=")[1];(0,s.useEffect)((function(){(i||V)&&q(i||V)}),[i]);var q=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),F(!0),e.next=4,(0,u.R8)(t);case 4:return n=e.sent,e.next=7,n.results;case 7:a=e.sent,console.log(a),Z(a),a.length||b(!0),F(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)("main",{children:(0,f.jsxs)("section",{children:[(0,f.jsx)(v,{submit:function(e){e.preventDefault(),l(e.target.name.value)},searchMovieValue:H,onChang:function(e){N(""!==e?{name:e}:{})}}),U&&(0,f.jsx)(h.a,{}),y&&(0,f.jsx)("p",{className:g,children:"Sorry, we didn't find anything. Try again."}),(0,f.jsx)("ul",{className:d.Z.list,children:x.map((function(e){return(0,f.jsx)(m.H,{movie:e},e.id)}))})]})})}},892:function(e,t){t.Z={text:"MovieList_text__6RJQy",list:"MovieList_list__2rnyn",item:"MovieList_item__NkPkZ",link:"MovieList_link__Vh6rU",img:"MovieList_img__eH6st",info:"MovieList_info__eZ7jA"}},272:function(e,t,n){e.exports=n.p+"static/media/default.eaf453e7546459c2020a.jpg"}}]);
//# sourceMappingURL=772.a73aae6a.chunk.js.map